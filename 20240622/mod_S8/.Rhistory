fcs.data.dir <- "./Data"
fcs.src.dir <- "./00_source_files"
message.delay.time <- 0
Be.Chatty <- TRUE
source( file.path( fcs.src.dir, "flowcytoscript_startup.r") )
source( file.path( fcs.src.dir, "flowcytoscript_load_runchecks.r") )
source( file.path( fcs.src.dir, "flowcytoscript_define_experiment.r") )
channels
descs.filtered
channels.filtered
channels
channels
lapply( channels.filtered$desc, strsplit, "\\s" )
lapply( channels$desc, strsplit, "\\s" )
split.channel.names <- strsplit(channels$desc, "\\s")
for ( channel in 1:length(split.channel.names) ){
channels$desc[channel] <- split.channel.names[[channel]][1]
}
channels
split.channel.names
split.channel.names <- strsplit(channels$desc, "(")
split.channel.names <- strsplit(channels$desc, "\\(")
split.channel.names
split.channel.names <- strsplit(channels$name, "\\(")
split.channel.names
split.channel.names <- strsplit(channels$name, "\\s")
split.channel.names
for ( channel in 1:length(split.channel.names) ){
channels$desc[channel] <- split.channel.names[[channel]][1]
}
channels
non.area <- c("Height", "height", "Width", "width", "-W", "-H", "-T")
area.channels <- channels.filtered$desc[!grepl(paste(non.area, collapse = "|"), channels.filtered$desc)]
area.channels <- channels$desc[!grepl(paste(non.area, collapse = "|"), channels$desc)]
non.area <- c("Height", "height", "Width", "width", "-W", "-H", "-T")
area.channels <- channels$desc[!grepl(paste(non.area, collapse = "|"), channels$desc)]
area.channels
channels.filtered <- dplyr::filter(channels.filtered, desc %in% area.channels)
area.channels <- channels$name[!grepl(paste(non.area, collapse = "|"), channels$name)]
area.channels
area.channels <- channels$desc[!grepl(paste(non.area, collapse = "|"), channels$name)]
area.channels
descs.filtered <- channels$desc[!is.na(channels$desc) & channels$desc != '-']
channels.filtered <- dplyr::filter(channels, desc %in% descs.filtered)
channels.filtered
channels.filtered <- dplyr::filter(channels.filtered, desc %in% area.channels)
channels.filtered
area.channels <- channels$name[!grepl(paste(non.area, collapse = "|"), channels$name)]
channels.filtered <- dplyr::filter(channels.filtered, name %in% area.channels)
channels.filtered
source( file.path( fcs.src.dir, "flowcytoscript_define_experiment.r") )
source( file.path( fcs.src.dir, "flowcytoscript_clustering.r") )
source( file.path( fcs.src.dir, "flowcytoscript_run_analysis.r") )
